<!DOCTYPE html>
<html>
<head>
    <title>Panpedia</title>
    <!-- Link com o script dos √≠cones do site Fontawesome -->
    <script src="https://kit.fontawesome.com/9b32426a3d.js" crossorigin="anonymous"></script>
    <!-- Defini√ß√£o do √≠cone da p√°gina -->
    <link rel="short icon" href="/public/images/123.png" type="image/x-icon">
    <!-- Inclus√£o do arquivo CSS externo -->
    <link rel="stylesheet" type="text/css" href="/public/css/styleResultados.css">
    <!-- Inclus√£o da biblioteca Jquery externo -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" crossorigin="anonymous"></script>
    <!-- Inclus√£o do arquivo Javascript externo -->
    <script src="../script.js"></script>
</head>
<body>
    <%- include('../atalhos/sidebar')%>

     <!-- Exibi√ß√£o do bot√£o de abrir o side bar e defini√ß√£o da fun√ß√£o onClick -->
     <div class="barraMenu">
        <button class="iconeMenu" onclick="abrirNav()"><i class="fa-sharp fa-solid fa-bars fa-2x"></i></button>
</div>
<!-- Exibi√ß√£o da header com barra de pesquisa e logo do Panpedia -->
    <%- include('../atalhos/header')%>

</div>
</div>
<!-- Exibi√ß√£o dos breadcrumbs, demonstrando o caminho do usu√°rio. -->
<div class="caminho">
<a href="/busca/<%=permissao%>">P√°gina Inicial</a>
<p>></p>
<a>Favoritos</a>
</div>
<!-- Exibi√ß√£o da lista de filtros -->
<div class="conteudo">
<div class="caixaFiltros">
    <!-- adiciona os bot√µes de filtros -->
    <h2 class="filtrarpor"><i class="fas fa-filter"></i>Filtrar por:</h2>
    <ul class="filtros">
        <li><i class="fas fa-book"></i> Assunto</li>
        <li><i class="fa-sharp fa-solid fa-eye-slash"></i> Dados sens√≠veis</li>
    </ul>
</div>
<!-- adiciona os resultados da pesquisa a p√°gina de pesquisa  -->
<div class="resultados">
<% if (model.length > 0) { %>
<% for (const saidas of model) { %>
    <div class="resultadoItem">
        <a href="/busca/<%= permissao %>/saida/0/metadados?ID_DADOS_TABELAS=<%= saidas.ID_DADOS_TABELAS%>&TABELA=<%= saidas.TABELA%>"><h2><%= saidas.TABELA %></h2></a>
        <p><%= saidas.CONTEUDO_TABELA %></p>
    </div>
<% } %>
<% } else { %>
<h2>Voc√™ ainda n√£o favoritou nenhuma tabela üíî </h2>
<% } %>
<!-- divide todos os resultados da pesquisa em mais p√°ginas -->
<% if (model.length > 9) { %>
<div class="paginacao">
<% if (limit > 0) { %>
<form method="get" action=<%= prev %>>
    <button id="pagAnt"><i class="fa-sharp fa-solid fa-chevron-left"></i>P√°gina anterior</button>
</form>
<% } %>
<form method="get" action=<%= next %>>
    <button id="proxPag"></i>Pr√≥xima p√°gina<i class="fa-sharp fa-solid fa-angle-right"></i></button>
</form>
</div>
<% } %>
</div>
</div>
<script>
/*Cria a barra de pesquisa, bot√£o de busca e os filtros */
const searchInput = document.getElementById('inputPesquisa');
const searchBtn = document.getElementById('botaoPesquisa');
var darkMode = false
/* adiciona o bot√£o e a fun√ß√£o dark mode, dependendo do modo claro e escuro muda as figuras */
$(document).ready(function() {
darkMode = localStorage.getItem("darkMode")==="true";
$('#imagem3').hide()
$('#imagem4').hide()
var checkbox = document.getElementById("bolabtn");
checkbox.checked = darkMode;

var element = document.body;
if (darkMode) {
    $('#logo').hide()
    $('#imagem3').show()
    $('#imagem2').hide()
    $('#imagem4').show()
    element.classList.add("darkMode");
} else {
    $('#logo').show()
    $('#imagem3').hide()
    $('#imagem2').show()
    $('#imagem4').hide()
}
});

function funcaoDarkMode() {
var element = document.body;
if (darkMode === false) {
    $('#logo').hide()
    $('#imagem3').show()
    $('#imagem2').hide()
    $('#imagem4').show()
    darkMode = true
    console.log('darkMode', darkMode)
    localStorage.setItem("darkMode", darkMode);
    element.classList.add("darkMode");
} else {
    $('#logo').show()
    $('#imagem3').hide()
    $('#imagem2').show()
    $('#imagem4').hide()
    darkMode = false
    localStorage.setItem("darkMode", darkMode);
    element.classList.remove("darkMode");
}
}

/* Abre a overlay do menu lateral */ 
function abrirNav() {
document.getElementById("menuLateral").style.width = "250px";
console.log('foi')
}

/* Fecha o overlay do menu lateral */
function fecharNav() {
document.getElementById("menuLateral").style.width = "0";
}
</script>

</body>
</html>